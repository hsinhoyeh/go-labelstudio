package project

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestBatchAnnotatioExportImageClassification(t *testing.T) {

	bb := &BatchAnnotatioExportImageClassification{}
	assert.NoError(t, bb.Unmarshal([]byte(rawImageClassificationExport)))
	assert.EqualValues(t, bb.Len(), 6)
	assert.EqualValues(t, bb.At(0).ID, 1)

}

const (
	rawImageClassificationExport string = `[{"id":1,"annotations":[{"id":1,"completed_by":1,"result":[{"id":"IfG3SLi-qA","type":"choices","value":{"choices":["Adult content"]},"origin":"manual","to_name":"image","from_name":"choice"}],"was_cancelled":false,"ground_truth":false,"created_at":"2024-03-20T03:14:06.896688Z","updated_at":"2024-03-20T03:14:06.896700Z","draft_created_at":null,"lead_time":3.238,"prediction":{},"result_count":0,"unique_id":"2efb139d-968b-4723-a9a5-f413bd1cc3bd","import_id":null,"last_action":null,"task":1,"project":2,"updated_by":1,"parent_prediction":null,"parent_annotation":null,"last_created_by":null}],"drafts":[],"predictions":[],"data":{"image":"https:\/\/example.com\/storageec\/427wr4e8lno9gjgzmd6kp03vxyz51w\/EURASIAN%20MAGPIE\/001.jpg"},"meta":{},"created_at":"2024-03-20T03:12:13.505662Z","updated_at":"2024-03-20T03:14:06.947368Z","inner_id":1,"total_annotations":1,"cancelled_annotations":0,"total_predictions":0,"comment_count":0,"unresolved_comment_count":0,"last_comment_updated_at":null,"project":2,"updated_by":1,"comment_authors":[]},{"id":2,"annotations":[{"id":2,"completed_by":1,"result":[{"id":"h8iUEPdvpD","type":"choices","value":{"choices":["Weapons"]},"origin":"manual","to_name":"image","from_name":"choice"}],"was_cancelled":false,"ground_truth":false,"created_at":"2024-03-20T03:14:12.419913Z","updated_at":"2024-03-20T03:14:12.419928Z","draft_created_at":null,"lead_time":2.376,"prediction":{},"result_count":0,"unique_id":"2113a00f-f066-4819-a94d-40778c16b3f0","import_id":null,"last_action":null,"task":2,"project":2,"updated_by":1,"parent_prediction":null,"parent_annotation":null,"last_created_by":null}],"drafts":[],"predictions":[],"data":{"image":"https:\/\/example.com\/storageec\/427wr4e8lno9gjgzmd6kp03vxyz51w\/EURASIAN%20MAGPIE\/002.jpg"},"meta":{},"created_at":"2024-03-20T03:12:13.647385Z","updated_at":"2024-03-20T03:14:12.486082Z","inner_id":2,"total_annotations":1,"cancelled_annotations":0,"total_predictions":0,"comment_count":0,"unresolved_comment_count":0,"last_comment_updated_at":null,"project":2,"updated_by":1,"comment_authors":[]},{"id":3,"annotations":[{"id":3,"completed_by":1,"result":[{"id":"AAVrsxQIZu","type":"choices","value":{"choices":["Weapons"]},"origin":"manual","to_name":"image","from_name":"choice"}],"was_cancelled":false,"ground_truth":false,"created_at":"2024-03-20T03:14:15.846113Z","updated_at":"2024-03-20T03:14:15.846125Z","draft_created_at":null,"lead_time":1.783,"prediction":{},"result_count":0,"unique_id":"25055f5c-1d1a-4e90-af8d-0ca250b0a41d","import_id":null,"last_action":null,"task":3,"project":2,"updated_by":1,"parent_prediction":null,"parent_annotation":null,"last_created_by":null}],"drafts":[],"predictions":[],"data":{"image":"https:\/\/example.com\/storageec\/427wr4e8lno9gjgzmd6kp03vxyz51w\/EURASIAN%20MAGPIE\/003.jpg"},"meta":{},"created_at":"2024-03-20T03:12:13.778818Z","updated_at":"2024-03-20T03:14:15.889573Z","inner_id":3,"total_annotations":1,"cancelled_annotations":0,"total_predictions":0,"comment_count":0,"unresolved_comment_count":0,"last_comment_updated_at":null,"project":2,"updated_by":1,"comment_authors":[]},{"id":4,"annotations":[{"id":4,"completed_by":1,"result":[{"id":"go1CmgjMvq","type":"choices","value":{"choices":["Adult content"]},"origin":"manual","to_name":"image","from_name":"choice"}],"was_cancelled":false,"ground_truth":false,"created_at":"2024-03-20T03:14:19.841678Z","updated_at":"2024-03-20T03:14:19.841691Z","draft_created_at":null,"lead_time":2.789,"prediction":{},"result_count":0,"unique_id":"cddff000-ef57-4e63-b3b1-596ce188468f","import_id":null,"last_action":null,"task":4,"project":2,"updated_by":1,"parent_prediction":null,"parent_annotation":null,"last_created_by":null}],"drafts":[],"predictions":[],"data":{"image":"https:\/\/example.com\/storageec\/427wr4e8lno9gjgzmd6kp03vxyz51w\/EURASIAN%20MAGPIE\/004.jpg"},"meta":{},"created_at":"2024-03-20T03:12:13.902382Z","updated_at":"2024-03-20T03:14:19.919428Z","inner_id":4,"total_annotations":1,"cancelled_annotations":0,"total_predictions":0,"comment_count":0,"unresolved_comment_count":0,"last_comment_updated_at":null,"project":2,"updated_by":1,"comment_authors":[]},{"id":5,"annotations":[{"id":5,"completed_by":1,"result":[{"id":"pOd8-Cnk0Z","type":"choices","value":{"choices":["Violence"]},"origin":"manual","to_name":"image","from_name":"choice"}],"was_cancelled":false,"ground_truth":false,"created_at":"2024-03-20T03:20:07.330111Z","updated_at":"2024-03-20T03:20:07.330123Z","draft_created_at":null,"lead_time":4.531,"prediction":{},"result_count":0,"unique_id":"ab87e153-bb46-468d-9340-9d5dfb49df3c","import_id":null,"last_action":null,"task":5,"project":2,"updated_by":1,"parent_prediction":null,"parent_annotation":null,"last_created_by":null}],"drafts":[],"predictions":[],"data":{"image":"https:\/\/example.com\/storageec\/427wr4e8lno9gjgzmd6kp03vxyz51w\/EURASIAN%20MAGPIE\/005.jpg"},"meta":{},"created_at":"2024-03-20T03:12:13.987925Z","updated_at":"2024-03-20T03:20:07.388915Z","inner_id":5,"total_annotations":1,"cancelled_annotations":0,"total_predictions":0,"comment_count":0,"unresolved_comment_count":0,"last_comment_updated_at":null,"project":2,"updated_by":1,"comment_authors":[]},{"id":6,"annotations":[{"id":6,"completed_by":1,"result":[{"id":"g0b5kkRM8E","type":"choices","value":{"choices":["Adult content"]},"origin":"manual","to_name":"image","from_name":"choice"}],"was_cancelled":false,"ground_truth":false,"created_at":"2024-03-20T03:21:06.224448Z","updated_at":"2024-03-20T03:21:06.224460Z","draft_created_at":null,"lead_time":4.697,"prediction":{},"result_count":0,"unique_id":"7295a9d3-a7c8-4aec-8191-a315dedb9132","import_id":null,"last_action":null,"task":6,"project":2,"updated_by":1,"parent_prediction":null,"parent_annotation":null,"last_created_by":null}],"drafts":[],"predictions":[],"data":{"image":"https:\/\/example.com\/storageec\/427wr4e8lno9gjgzmd6kp03vxyz51w\/EURASIAN%20MAGPIE\/006.jpg"},"meta":{},"created_at":"2024-03-20T03:12:14.094381Z","updated_at":"2024-03-20T03:21:06.286386Z","inner_id":6,"total_annotations":1,"cancelled_annotations":0,"total_predictions":0,"comment_count":0,"unresolved_comment_count":0,"last_comment_updated_at":null,"project":2,"updated_by":1,"comment_authors":[]}]`
)
